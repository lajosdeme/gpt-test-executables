(function(){"use strict";var e={4671:function(e,a,t){var n=t(9242),s=t(3396);const i={class:"main-container"},o={class:"content container"};function l(e,a,t,n,l,r){const g=(0,s.up)("Options"),c=(0,s.up)("MessageContainer"),d=(0,s.up)("MessageInput");return(0,s.wg)(),(0,s.iD)("div",i,[(0,s._)("div",o,[(0,s.Wm)(g,{onThemeChanged:r.handleTheme,onInputChangedMale:r.handleMaleInput,onInputChangedFemale:r.handleFemaleInput,onPersonaSelectedMale:r.handleMalePersona,onPersonaSelectedFemale:r.handleFemalePersona},null,8,["onThemeChanged","onInputChangedMale","onInputChangedFemale","onPersonaSelectedMale","onPersonaSelectedFemale"]),(0,s.Wm)(c,{messages:l.messages},null,8,["messages"])]),(0,s.Wm)(d,{isLightTheme:l.isLightTheme,input:l.input,class:"msg-input",onMessageSent:r.messageSent,onReplyReceived:r.replyReceived,onRegenerate:r.regenerate},null,8,["isLightTheme","input","onMessageSent","onReplyReceived","onRegenerate"])])}t(7658);const r={class:"msg-container"};function g(e,a,t,n,i,o){const l=(0,s.up)("Message");return(0,s.wg)(),(0,s.iD)("div",r,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.messages,((e,a)=>((0,s.wg)(),(0,s.iD)("div",{key:a},[(0,s.Wm)(l,{isRight:0==e.llama,message:e.message,prevMessage:0==a?"":t.messages[a-1].message},null,8,["isRight","message","prevMessage"])])))),128))])}var c=t(7139),d=t.p+"img/like.205240a9.svg",m=t.p+"img/dislike.d65eb11c.svg";const p=e=>((0,s.dD)("data-v-134ebff3"),e=e(),(0,s.Cn)(),e),h={key:0,class:"rating-view justify-content-around"},u=p((()=>(0,s._)("img",{src:d,class:"img",alt:""},null,-1))),f=[u],v=p((()=>(0,s._)("img",{src:m,class:"img",alt:""},null,-1))),b=[v];function y(e,a,t,n,i,o){return(0,s.wg)(),(0,s.iD)("div",{class:"message",onClick:a[2]||(a[2]=(...e)=>o.openRate&&o.openRate(...e)),style:(0,c.j5)({marginLeft:t.isRight?"auto":"0",textAlign:t.isRight?"right":"left"})},[(0,s._)("div",{class:"pcontainer",style:(0,c.j5)({marginLeft:t.isRight?"auto":"0",textAlign:t.isRight?"right":"left"})},[i.rateVisible?((0,s.wg)(),(0,s.iD)("div",h,[(0,s._)("button",{onClick:a[0]||(a[0]=(...e)=>o.ratePositive&&o.ratePositive(...e)),class:"rate-btn"},f),(0,s._)("button",{onClick:a[1]||(a[1]=(...e)=>o.rateNegative&&o.rateNegative(...e)),class:"rate-btn"},b)])):(0,s.kq)("",!0),(0,s._)("p",{style:(0,c.j5)({marginLeft:t.isRight?"auto":"0",backgroundColor:t.isRight?"#362FD9":"#98E4FF",color:t.isRight?"white":"black"})},(0,c.zw)(t.message),5)],4)],4)}var w=t(7327),I=t(4161);class k{constructor(){(0,w.Z)(this,"url",void 0),(0,w.Z)(this,"setup",(async()=>{const e=await fetch("/config.json"),a=await e.json();I.Z.defaults.baseURL=a.baseUrl,console.log("base url: ",I.Z.defaults.baseURL)})),(0,w.Z)(this,"sendMessage",(async e=>{const a=await I.Z.post("/gpt/message",e);return console.log("res: ",a),"ok"==a.data.status?a.data.response:""})),(0,w.Z)(this,"generateMessage",(async e=>{const a=await I.Z.post("/gpt/message",e);return console.log("res: ",a),"ok"==a.data.status?a.data.response:""})),(0,w.Z)(this,"regenerateLast",(async e=>{const a=await I.Z.post("/gpt/message",e);return console.log("res: ",a),"ok"==a.data.status?a.data.response:""})),(0,w.Z)(this,"rateMessage",(async e=>{const a=await I.Z.post("http://54.242.59.41/api/rate",e);return console.log("res: ",a),"ok"==a.data.status?(console.log("ok"),!0):void 0!=a.data.error?(console.log("res error: ",a.data.error),!1):void 0}))}}var M=k,_={name:"Message",props:{isRight:Boolean,message:String,prevMessage:String},data(){return{rateVisible:!1,api:Object}},async mounted(){this.api=new M,await this.api.setup()},methods:{openRate(){this.rateVisible=!this.rateVisible},async ratePositive(){let e={message:this.message,previous_message:this.prevMessage,rating:1};const a=await this.api.rateMessage(e);a||alert("error submitting rating")},async rateNegative(){let e={message:this.message,previous_message:this.prevMessage,rating:0};console.log("rating: ",e);const a=await this.api.rateMessage(e);a||alert("error submitting rating")}}},C=t(89);const j=(0,C.Z)(_,[["render",y],["__scopeId","data-v-134ebff3"]]);var F=j,L={name:"MessageContainer",props:{messages:[]},components:{Message:F}};const T=(0,C.Z)(L,[["render",g],["__scopeId","data-v-a0107b04"]]);var O=T;const S={class:"container"},x={class:"top-btn-container"},P=["disabled"],R={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},U=["disabled"],D={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},Z={class:"auto-expand-input"},z=["disabled"],V={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"};function $(e,a,t,i,o,l){return(0,s.wg)(),(0,s.iD)("div",S,[(0,s._)("div",x,[(0,s._)("button",{disabled:o.generating,class:"btn btn-info",onClick:a[0]||(a[0]=(...e)=>l.generate&&l.generate(...e))},[o.generating?((0,s.wg)(),(0,s.iD)("span",R)):(0,s.kq)("",!0),(0,s.Uk)(" "+(0,c.zw)(o.generating?"Loading...":"Generate message"),1)],8,P),(0,s._)("button",{disabled:o.generating,class:"btn btn-danger",onClick:a[1]||(a[1]=(...e)=>l.regenerateLast&&l.regenerateLast(...e)),style:{display:"none"}},[o.generating?((0,s.wg)(),(0,s.iD)("span",D)):(0,s.kq)("",!0),(0,s.Uk)(" "+(0,c.zw)(o.generating?"Loading...":"Regenerate last message"),1)],8,U)]),(0,s._)("div",Z,[(0,s.wy)((0,s._)("textarea",{class:"message-input","onUpdate:modelValue":a[2]||(a[2]=e=>o.message=e),onInput:a[3]||(a[3]=(...e)=>l.adjustTextareaHeight&&l.adjustTextareaHeight(...e)),ref:"messageInput",placeholder:"Type your message...",style:(0,c.j5)({backgroundColor:t.isLightTheme?"white":"#333333",color:t.isLightTheme?"black":"white"})},null,36),[[n.nr,o.message]])]),(0,s._)("button",{disabled:o.generating,class:"btn btn-send",onClick:a[4]||(a[4]=(...e)=>l.sendMessage&&l.sendMessage(...e))},[o.generating?((0,s.wg)(),(0,s.iD)("span",V)):(0,s.kq)("",!0),(0,s.Uk)(" "+(0,c.zw)(o.generating?"Loading...":"Send"),1)],8,z)])}var G={name:"MessageInput",props:{isLightTheme:Boolean,input:Object},data(){return{message:"",api:Object,generating:!1,lastIsLlama:!0}},async mounted(){this.api=new M,await this.api.setup()},methods:{adjustTextareaHeight(){const e=this.$refs.messageInput;e.style.height="auto",e.style.height=e.scrollHeight+"px"},async sendMessage(){if(this.generating)return;const e=this.message;this.$emit("message-sent",this.message),this.message="",this.$nextTick((()=>{const e=this.$refs.messageInput;e.style.height="60px"})),this.generating=!0;let a={message:e,male:this.input.personaMale,female:this.input.personaFemale,model_config_male:this.input.modelConfigMale,model_config_female:this.input.modelConfigFemale};console.log("config: ",a);const t=await this.api.sendMessage(a);this.$emit("reply-received",t),this.generating=!1,this.lastIsLlama=!0},async generate(){if(this.generating||!this.lastIsLlama)return;console.log("generating..."),this.generating=!0;let e={male:this.input.personaMale,female:this.input.personaFemale,model_config_male:this.input.modelConfigMale,model_config_female:this.input.modelConfigFemale,generate:!0};const a=await this.api.generateMessage(e);this.message=a,this.generating=!1,this.lastIsLlama=!1},async regenerateLast(){if(this.generating)return;console.log("regenerating...",this.lastIsLlama),this.generating=!0;let e={male:this.input.personaMale,female:this.input.personaFemale,model_config_male:this.input.modelConfigMale,model_config_female:this.input.modelConfigFemale,generate:!this.lastIsLlama,regenerate:!0};const a=await this.api.regenerateLast(e);this.generating=!1,0==this.lastIsLlama?this.message=a:this.$emit("regenerate",a)}}};const H=(0,C.Z)(G,[["render",$],["__scopeId","data-v-f1c3c414"]]);var E=H;const K={class:"options-container"},q={class:"options-btn-container justify-content-around"},A={key:0,class:"options-details container"},N={class:"row"},Y={class:"col-6"},W=["value","disabled"],B={class:"col-6"},J=["value","disabled"];function Q(e,a,t,i,o,l){return(0,s.wg)(),(0,s.iD)("div",K,[(0,s._)("div",q,[(0,s._)("button",{class:"btn btn-primary",onClick:a[0]||(a[0]=(...e)=>l.expand&&l.expand(...e))},(0,c.zw)(o.expanded?"Hide personas & model config":"Show personas & model config"),1),(0,s._)("button",{class:"btn btn-info",onClick:a[1]||(a[1]=(...e)=>l.toggleTheme&&l.toggleTheme(...e))},"Toggle theme")]),o.expanded?((0,s.wg)(),(0,s.iD)("div",A,[(0,s._)("div",N,[(0,s._)("div",Y,[(0,s._)("label",{style:(0,c.j5)({color:o.isLightTheme?"black":"white"})},[(0,s.wy)((0,s._)("input",{onInput:a[2]||(a[2]=(...e)=>l.modelChangeMale&&l.modelChangeMale(...e)),type:"radio","onUpdate:modelValue":a[3]||(a[3]=e=>o.selectedOptionMale=e),value:0},null,544),[[n.G2,o.selectedOptionMale]]),(0,s.Uk)(" Midnight Enigma ")],4),(0,s._)("label",{style:(0,c.j5)({color:o.isLightTheme?"black":"white"})},[(0,s.wy)((0,s._)("input",{type:"radio",onInput:a[4]||(a[4]=(...e)=>l.modelChangeMale&&l.modelChangeMale(...e)),"onUpdate:modelValue":a[5]||(a[5]=e=>o.selectedOptionMale=e),value:1},null,544),[[n.G2,o.selectedOptionMale]]),(0,s.Uk)(" Yara ")],4),(0,s._)("label",{style:(0,c.j5)({color:o.isLightTheme?"black":"white"})},[(0,s.wy)((0,s._)("input",{type:"radio",onInput:a[6]||(a[6]=(...e)=>l.modelChangeMale&&l.modelChangeMale(...e)),"onUpdate:modelValue":a[7]||(a[7]=e=>o.selectedOptionMale=e),value:2},null,544),[[n.G2,o.selectedOptionMale]]),(0,s.Uk)(" Shortwave ")],4),(0,s._)("label",{style:(0,c.j5)({color:o.isLightTheme?"black":"white"})},[(0,s.wy)((0,s._)("input",{type:"radio",onInput:a[8]||(a[8]=(...e)=>l.modelChangeMale&&l.modelChangeMale(...e)),"onUpdate:modelValue":a[9]||(a[9]=e=>o.selectedOptionMale=e),value:3},null,544),[[n.G2,o.selectedOptionMale]]),(0,s.Uk)(" Kobold godlike ")],4),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.personaMale,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"persona"},[(0,s._)("h5",{style:(0,c.j5)({color:o.isLightTheme?"black":"white"})},(0,c.zw)(e.name)+", "+(0,c.zw)(e.age)+" years, "+(0,c.zw)(e.occupation)+": ",5),(0,s._)("p",{style:(0,c.j5)({color:o.isLightTheme?"black":"white"})},(0,c.zw)(e.descriptions),5),(0,s._)("button",{value:t,onClick:a[10]||(a[10]=(...e)=>l.personaSelectedMale&&l.personaSelectedMale(...e)),disabled:o.selectedPersonaMale==t,class:"btn btn-primary"},(0,c.zw)(o.selectedPersonaMale==t?"Selected":"Select"),9,W)])))),128))]),(0,s._)("div",B,[(0,s._)("label",{style:(0,c.j5)({color:o.isLightTheme?"black":"white"})},[(0,s.wy)((0,s._)("input",{type:"radio",onInput:a[11]||(a[11]=(...e)=>l.modelChangeFemale&&l.modelChangeFemale(...e)),"onUpdate:modelValue":a[12]||(a[12]=e=>o.selectedOptionFemale=e),value:0},null,544),[[n.G2,o.selectedOptionFemale]]),(0,s.Uk)(" Midnight Enigma ")],4),(0,s._)("label",{style:(0,c.j5)({color:o.isLightTheme?"black":"white"})},[(0,s.wy)((0,s._)("input",{type:"radio",onInput:a[13]||(a[13]=(...e)=>l.modelChangeFemale&&l.modelChangeFemale(...e)),"onUpdate:modelValue":a[14]||(a[14]=e=>o.selectedOptionFemale=e),value:1},null,544),[[n.G2,o.selectedOptionFemale]]),(0,s.Uk)(" Yara ")],4),(0,s._)("label",{style:(0,c.j5)({color:o.isLightTheme?"black":"white"})},[(0,s.wy)((0,s._)("input",{type:"radio",onInput:a[15]||(a[15]=(...e)=>l.modelChangeFemale&&l.modelChangeFemale(...e)),"onUpdate:modelValue":a[16]||(a[16]=e=>o.selectedOptionFemale=e),value:2},null,544),[[n.G2,o.selectedOptionFemale]]),(0,s.Uk)(" Shortwave ")],4),(0,s._)("label",{style:(0,c.j5)({color:o.isLightTheme?"black":"white"})},[(0,s.wy)((0,s._)("input",{type:"radio",onInput:a[17]||(a[17]=(...e)=>l.modelChangeFemale&&l.modelChangeFemale(...e)),"onUpdate:modelValue":a[18]||(a[18]=e=>o.selectedOptionFemale=e),value:3},null,544),[[n.G2,o.selectedOptionFemale]]),(0,s.Uk)(" Kobold godlike ")],4),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.personaFemale,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"persona"},[(0,s._)("h5",{style:(0,c.j5)({color:o.isLightTheme?"black":"white"})},(0,c.zw)(e.name)+", "+(0,c.zw)(e.age)+" years, "+(0,c.zw)(e.occupation)+": ",5),(0,s._)("p",{style:(0,c.j5)({color:o.isLightTheme?"black":"white"})},(0,c.zw)(e.descriptions),5),(0,s._)("button",{value:t,onClick:a[19]||(a[19]=(...e)=>l.personaSelectedFemale&&l.personaSelectedFemale(...e)),disabled:o.selectedPersonaFemale==t,class:"btn btn-primary"},(0,c.zw)(o.selectedPersonaFemale==t?"Selected":"Select"),9,J)])))),128))])])])):(0,s.kq)("",!0)])}var X=JSON.parse('[{"name":"Alex","age":28,"occupation":"software engineer","descriptions":["I play the guitar.","I love traveling and trying new restaurants."]},{"name":"David","age":35,"occupation":"doctor","descriptions":["I\'m passionate about saving lives.","In my free time, I enjoy hiking and reading medical journals.","I\'m a coffee enthusiast, and I roast my own beans.","I like playing the piano in my spare time."]},{"name":"Michael","age":25,"occupation":"financial analyst","descriptions":["I\'m all about numbers and data analysis.","I\'m an avid golfer and love playing on weekends.","I enjoy experimenting with homebrewing beer.","I collect vintage vinyl records."]},{"name":"Kevin","age":32,"occupation":"teacher","descriptions":["I\'m dedicated to educating the next generation.","I\'m a movie buff and enjoy watching classic films.","I\'m a history enthusiast and often visit museums.","I love playing board games with friends."]},{"name":"Ethan","age":28,"occupation":"mechanical engineer","descriptions":["I\'m passionate about designing machines.","I\'m a fitness enthusiast and enjoy weightlifting.","I\'m a car enthusiast and like working on my vintage Mustang.","I enjoy camping and stargazing in the wilderness."]},{"name":"Daniel","age":29,"occupation":"architect","descriptions":["I love creating beautiful and functional spaces.","In my free time, I like to paint and visit art galleries.","I\'m a fan of modern architecture and enjoy visiting iconic buildings.","I\'m a keen traveler, exploring architectural wonders worldwide."]}]'),ee=JSON.parse('[{"name":"Emily egy ribanc","age":26,"occupation":"graphic designer","descriptions":["I love art, photography, yoga.","I enjoy cooking and going to concerts."]},{"name":"Sarah","age":29,"occupation":"marketing manager","descriptions":["I\'m passionate about creating effective marketing campaigns.","I enjoy hiking and trying out new recipes.","I\'m a bookworm and love reading historical fiction.","I practice meditation and yoga for inner peace."]},{"name":"Olivia","age":27,"occupation":"nurse","descriptions":["I\'m dedicated to caring for patients.","I love dancing and attending live music events.","I\'m a wildlife enthusiast and often go bird-watching.","I enjoy playing the violin and performing in local orchestras."]},{"name":"Megan","age":33,"occupation":"journalist","descriptions":["I\'m a storyteller by profession.","I enjoy long walks, writing, and trying exotic cuisines.","I\'m a scuba diving enthusiast and explore underwater worlds.","I\'m a dedicated volunteer, working with local animal shelters."]},{"name":"Sophia","age":31,"occupation":"software developer","descriptions":["I\'m passionate about coding and building software.","I enjoy playing the piano and exploring new tech gadgets.","I\'m an avid hiker, scaling mountain peaks on weekends.","I\'m a language nerd and am fluent in five languages."]},{"name":"Ava","age":25,"occupation":"graphic designer","descriptions":["I\'m a creative soul, specializing in visual design.","I love painting, yoga, and visiting art exhibitions.","I\'m a coffee connoisseur and enjoy brewing artisanal blends.","I practice mindfulness and meditation for personal growth."]}]'),ae={name:"Options",data(){return{expanded:!1,isLightTheme:!0,personaMale:Object,personaFemale:Object,selectedOptionMale:0,selectedOptionFemale:0,selectedPersonaMale:0,selectedPersonaFemale:0}},created(){this.personaMale=X,this.personaFemale=ee},methods:{toggleTheme(){this.isLightTheme=!this.isLightTheme,this.$emit("theme-changed",this.isLightTheme)},expand(){this.expanded=!this.expanded},personaSelectedMale(e){this.selectedPersonaMale=e.target.value,this.$emit("persona-selected-male",e.target.value)},personaSelectedFemale(e){this.selectedPersonaFemale=e.target.value,this.$emit("persona-selected-female",e.target.value)},modelChangeMale(e){this.$emit("input-changed-male",e.target.value)},modelChangeFemale(e){this.$emit("input-changed-female",e.target.value)}}};const te=(0,C.Z)(ae,[["render",Q],["__scopeId","data-v-a764e3ee"]]);var ne=te,se={name:"App",components:{MessageInput:E,MessageContainer:O,Options:ne},data(){return{isLightTheme:!0,input:{modelConfigMale:0,modelConfigFemale:0,personaMale:0,personaFemale:0},messages:[{llama:!0,message:"hey how r u doin"}]}},methods:{messageSent(e){this.messages.push({llama:!1,message:e}),this.messages.push({llama:!0,message:"Typing..."})},replyReceived(e){this.messages.pop(),this.messages.push({llama:!0,message:e})},regenerate(e){this.messages.pop(),this.messages.push({llama:!0,message:e})},handleTheme(e){console.log("Theme"),document.body.style.backgroundColor=e?"white":"black",this.isLightTheme=e},handleMaleInput(e){console.log("input male change: ",e),this.input.modelConfigMale=parseInt(e)},handleFemaleInput(e){console.log("input female change: ",e),this.input.modelConfigFemale=parseInt(e)},handleMalePersona(e){this.input.personaMale=parseInt(e)},handleFemalePersona(e){this.input.personaFemale=parseInt(e)}}};const ie=(0,C.Z)(se,[["render",l]]);var oe=ie,le=t(2026);const re=(0,n.ri)(oe);re.use(le.ZP),re.mount("#app")}},a={};function t(n){var s=a[n];if(void 0!==s)return s.exports;var i=a[n]={exports:{}};return e[n].call(i.exports,i,i.exports,t),i.exports}t.m=e,function(){var e=[];t.O=function(a,n,s,i){if(!n){var o=1/0;for(c=0;c<e.length;c++){n=e[c][0],s=e[c][1],i=e[c][2];for(var l=!0,r=0;r<n.length;r++)(!1&i||o>=i)&&Object.keys(t.O).every((function(e){return t.O[e](n[r])}))?n.splice(r--,1):(l=!1,i<o&&(o=i));if(l){e.splice(c--,1);var g=s();void 0!==g&&(a=g)}}return a}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[n,s,i]}}(),function(){t.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(a,{a:a}),a}}(),function(){t.d=function(e,a){for(var n in a)t.o(a,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:a[n]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){t.p="/"}(),function(){var e={143:0};t.O.j=function(a){return 0===e[a]};var a=function(a,n){var s,i,o=n[0],l=n[1],r=n[2],g=0;if(o.some((function(a){return 0!==e[a]}))){for(s in l)t.o(l,s)&&(t.m[s]=l[s]);if(r)var c=r(t)}for(a&&a(n);g<o.length;g++)i=o[g],t.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return t.O(c)},n=self["webpackChunkgpt_test"]=self["webpackChunkgpt_test"]||[];n.forEach(a.bind(null,0)),n.push=a.bind(null,n.push.bind(n))}();var n=t.O(void 0,[998],(function(){return t(4671)}));n=t.O(n)})();
//# sourceMappingURL=app.08607e11.js.map